$_shadow-size: $padding;
$_radius: $radius * $hyprland-gaps-multiplier * $screen-corner-multiplier;
$_margin: 99px;

window#screen-corner:not(.hidden) {
  transition: $transition;
  box.shadow {
    margin-right: -$_margin;
    margin-left: -$_margin;
    @if $shadows {
      box-shadow: inset 0 0 $_shadow-size 0 $shadow-color;

      @if $bar-position == "top" {
        margin-bottom: -$_margin;
      }

      @if $bar-position == "bottom" {
        margin-top: -$_margin;
      }
    }
  }

  box.border {
    transition: $transition;

    margin-right: $_margin;
    margin-left: $_margin;

    @if $bar-position == "top" {
      border-top: $border-width solid $bg;
      border-bottom: none;
    }

    @if $bar-position == "bottom" {
      border-bottom: $border-width solid $bg;
    }
  }

  box.corner {
    box-shadow: 0 0 0 $border-width $border-color;
  }

  &.corners {
    box.border {
      @if $bar-position == "top" {
        border-top-left-radius: if($radius > 0, $_radius, 0);
        border-top-right-radius: if($radius > 0, $_radius, 0);
      }

      @if $bar-position == "bottom" {
        border-bottom-left-radius: if($radius > 0, $_radius, 0);
        border-bottom-right-radius: if($radius > 0, $_radius, 0);
      }

      box-shadow: 0 0 0 $_radius $bg;
    }

    box.corner {
      @if $bar-position == "top" {
        border-top-left-radius: if($radius > 0, $_radius, 0);
        border-top-right-radius: if($radius > 0, $_radius, 0);
      }

      @if $bar-position == "bottom" {
        border-bottom-left-radius: if($radius > 0, $_radius, 0);
        border-bottom-right-radius: if($radius > 0, $_radius, 0);
      }
    }
  }
}
