@use '../../style/base' as *;

window#desktop {
  .desktop-container {
    padding: 40px 20px;

    .desktop-icon {
      padding: 10px;
      margin: 5px;
      border-radius: calc(var(--radius) * 0.8);
      min-width: 80px;
      min-height: 100px;

      &:hover {
        background: rgba(255, 255, 255, 0.1);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
      }

      &.selected {
        background: color-mix(in srgb, var(--primary-bg) 30%, transparent);
        box-shadow: inset 0 0 0 2px var(--primary-bg);
        transform: scale(1.02);
      }

      &.dragging {
        opacity: 0.7;
        transform: scale(1.05);
      }

      image {
        margin-bottom: 4px;
      }

      .desktop-icon-label {
        font-size: 1.1em;
        color: white;
        text-shadow:
          -1px -1px 0 black,
          1px -1px 0 black,
          -1px 1px 0 black,
          1px 1px 0 black,
          0px -1px 0 black,
          0px 1px 0 black,
          -1px 0px 0 black,
          1px 0px 0 black;
        font-weight: 500;
      }
    }
  }

  .selection-rectangle {
    background: color-mix(in srgb, var(--primary-bg) 20%, transparent);
    border: 1px solid color-mix(in srgb, var(--primary-bg) 60%, transparent);
    border-radius: 2px;
  }

  .desktop-context-menu {
    @extend .floating;

    button {
      all: unset;
      box-shadow: none;
      background-color: transparent;
      background-image: none;
      border: none;
      padding: calc(var(--padding) * 0.5) calc(var(--padding) * 2);
      margin: 2px;
      border-radius: 50%;
      font-size: 0.9em;
      color: var(--fg);
      transition: background 200ms cubic-bezier(0.23, 1, 0.32, 1), color 200ms cubic-bezier(0.23, 1, 0.32, 1);
      min-width: 100px;

      &:hover {
        background: var(--hover-bg);
        color: var(--hover-fg);
      }

      &:active {
        background: var(--hover-bg);
      }

      &:disabled {
        opacity: 0.6;
      }
    }

    separator {
      background: rgba(255, 255, 255, 0.2);
      margin: 4px 8px;
      min-height: 1px;
    }
  }
}

window#desktop-context-menu {
  background: transparent;

  .contents {
    @extend .floating;
    border-radius: calc(var(--popover-radius) * 0.5);
    padding: calc(var(--padding) * 0.5);

    button {
      all: unset;
      box-shadow: none;
      background-color: transparent;
      background-image: none;
      border: none;
      padding: calc(var(--padding) * 0.5) calc(var(--padding) * 2);
      color: var(--fg);
      transition: var(--transition);

      &:hover {
        background: var(--hover-bg);
        color: var(--hover-fg);
      }

      &:active {
        background: var(--hover-bg);
      }
    }
  }
}
